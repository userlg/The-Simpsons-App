import{r,c as w,o as z,a as s,b as a,d as g,e as f,w as L,v as C,t as m,F as _,f as k,g as M,h as t,i as B,u as V}from"./index-GjR-g8a3.js";import{_ as $,a as A,b as F,I as N,c as S}from"./ErrorState-D6YgW8i2.js";const I={class:"pt-24 pb-16 max-w-7xl mx-auto px-6 lg:px-8"},E={key:0,class:"mb-8 max-w-xl mx-auto"},R={class:"relative"},T={key:0,class:"text-sm text-zinc-500 dark:text-zinc-400 mt-2 text-center"},U={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"},D={key:3},P={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"},j={key:1,class:"text-center py-20"},G={key:2,class:"text-center mt-12"},H=["disabled"],Q={key:0},q={key:1,class:"flex items-center gap-2"},J={key:3,class:"text-center text-sm text-zinc-500 dark:text-zinc-400 mt-4"},X={__name:"Locations",setup(K){const o=r([]),d=r(!0),u=r(!1),c=r(null),p=r(1),v=r(!0),n=r(""),x=w(()=>n.value?o.value.filter(i=>i.name.toLowerCase().includes(n.value.toLowerCase())):o.value),h=async(i=1)=>{try{c.value=null;const e=await A.getLocations(i);Array.isArray(e.data)?(i===1?o.value=e.data:o.value.push(...e.data),v.value=e.data.length===10):(o.value=i===1?[e.data]:[...o.value,e.data],v.value=!1)}catch(e){console.error("Failed to fetch locations:",e),c.value="Failed to load locations. Please check your connection.",v.value=!1}finally{d.value=!1,u.value=!1}},y=async()=>{u.value=!0,p.value++,await h(p.value)},b=()=>{d.value=!0,p.value=1,h(1)};return z(()=>{h(1)}),(i,e)=>(t(),s("div",I,[e[4]||(e[4]=a("div",{class:"text-center mb-12"},[a("h2",{class:"text-3xl font-extrabold tracking-tight text-green-600 dark:text-green-400 sm:text-5xl mb-4 drop-shadow-sm"}," Locations "),a("p",{class:"text-lg text-zinc-600 dark:text-zinc-400 font-medium"}," Iconic places from Springfield. ")],-1)),!d.value&&!c.value?(t(),s("div",E,[a("div",R,[L(a("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),type:"text",placeholder:"Search locations...",class:"w-full px-4 py-3 pl-12 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[C,n.value]]),e[1]||(e[1]=a("svg",{class:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),n.value?(t(),s("p",T," Found "+m(x.value.length)+" location"+m(x.value.length!==1?"s":""),1)):g("",!0)])):g("",!0),d.value?(t(),s("div",U,[(t(),s(_,null,k(6,l=>B(F,{key:l})),64))])):c.value?(t(),f($,{key:2,message:c.value,onRetry:b},null,8,["message"])):(t(),s("div",D,[x.value.length>0?(t(),s("div",P,[(t(!0),s(_,null,k(x.value,l=>(t(),f(S,{key:l.id,title:l.name,subtitle:l.type,image:l.image_path?`${V(N)}${l.image_path}`:`https://via.placeholder.com/300x200?text=${encodeURIComponent(l.name)}`,badges:[]},null,8,["title","subtitle","image"]))),128))])):(t(),s("div",j,[...e[2]||(e[2]=[a("div",{class:"text-6xl mb-4"},"üèõÔ∏è",-1),a("h3",{class:"text-2xl font-bold text-zinc-900 dark:text-white mb-2"}," No locations found ",-1),a("p",{class:"text-zinc-600 dark:text-zinc-400"}," Try a different search term. ",-1)])])),v.value&&!n.value?(t(),s("div",G,[a("button",{onClick:y,disabled:u.value,class:"bg-green-600 hover:bg-green-700 disabled:bg-zinc-400 text-white px-8 py-3 rounded-full font-bold transition-all shadow-lg hover:shadow-xl disabled:cursor-not-allowed"},[u.value?(t(),s("span",q,[...e[3]||(e[3]=[a("svg",{class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),M(" Loading... ",-1)])])):(t(),s("span",Q,"Load More"))],8,H)])):g("",!0),n.value?g("",!0):(t(),s("p",J," Showing "+m(o.value.length)+" location"+m(o.value.length!==1?"s":""),1))]))]))}};export{X as default};
